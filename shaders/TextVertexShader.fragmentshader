in vec3 UV;
in vec3 VertColor;

out vec4 color;

uniform sampler3D TextTextureSampler;

void main()
{
  // TODO(Jesse): Pass the UVs in a more sensible format??
  vec4 BitmapTexel = texelFetch( TextTextureSampler,
                                 ivec3(UV*vec3(DEBUG_TEXTURE_DIM, DEBUG_TEXTURE_DIM, 1)),
                                 0);

  if (BitmapTexel.a == 0.0f)
    discard;

  color = vec4(VertColor * BitmapTexel.rgb * BitmapTexel.a, BitmapTexel.a);
}
